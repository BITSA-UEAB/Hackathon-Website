useState(() => {
    setPasswordStrength(calculatePasswordStrength(password));
  });

  const getPasswordStrengthColor = () => {
    if (passwordStrength < 40) return "bg-destructive";
    if (passwordStrength < 70) return "bg-warning";
    return "bg-success";
  };

  const getPasswordStrengthText = () => {
    if (passwordStrength < 40) return "Weak";
    if (passwordStrength < 70) return "Medium";
    return "Strong";
  };

  const onSubmit = async (data: RegisterForm) => {
    setIsLoading(true);
    setError("");
    setSuccess("");

    try {
      const result = await registerUser({
        name: data.name,
        email: data.email,
        password: data.password,
        confirmPassword: data.confirmPassword,
      });

      if (result === true) {
        setSuccess("Registration successful! Redirecting to login...");
        reset();
        setTimeout(() => {
          navigate("/login");
        }, 2000);
      } else if (typeof result === "string") {
        setError(result);
      } else {
        setError("Registration failed. Please try again.");
      }
    } catch (err) {
      setError("An unexpected error occurred. Please try again later.");
    } finally {
      setIsLoading(false);
    }
  };
=======
  // Update password strength when password changes
  useEffect(() => {
    setPasswordStrength(calculatePasswordStrength(password));
  }, [password]);

  const getPasswordStrengthColor = () => {
    if (passwordStrength < 40) return "bg-destructive";
    if (passwordStrength < 70) return "bg-warning";
    return "bg-success";
  };

  const getPasswordStrengthText = () => {
    if (passwordStrength < 40) return "Weak";
    if (passwordStrength < 70) return "Medium";
    return "Strong";
  };

  const onSubmit = async (data: RegisterForm) => {
    setIsLoading(true);
    setError("");
    setSuccess("");

    try {
      const result = await registerUser({
        name: data.name,
        email: data.email,
        password: data.password,
        confirmPassword: data.confirmPassword,
      });

      if (result === true) {
        setSuccess("Registration successful! Redirecting to login...");
        reset();
        setTimeout(() => {
          navigate("/login");
        }, 2000);
      } else if (typeof result === "string") {
        setError(result);
      } else {
        setError("Registration failed. Please try again.");
      }
    } catch (err) {
      setError("An unexpected error occurred. Please try again later.");
    } finally {
      setIsLoading(false);
    }
  };
